# 16. GitHub Actions 的 Workflow 設定檔解析（1）

# GitHub Actions 的 Workflow 設定檔解析（1）

在上一篇文章中，我分享了一個 GitHub Actions 的腳本，今天就來分析一下這個腳本的結構來看看吧！

不過首先應該要先理解 YAML 文件撰寫格式，如果對 YAML 不了解的話可以先看看 [YAML - 維基百科，自由的百科全書](https://zh.wikipedia.org/wiki/YAML) ，有個基本認知之後再回來繼續。

---

## Workflow 的名稱與觸發條件

```jsx
name: Deploy gh-pages

on:
  push:
    branches:
      - master
jobs:
  build:
```

可以看到我先設置了 `name` 的這個屬性，這個屬性是在定義目前這個 Workflow 腳本的名稱，因為在專案複雜度較高的情況，也許會需要設置許多不同的 Workflow ，這時候有一個易懂的命名，才能讓你在 GitBub 上管理時能清楚的區分。

再來就是 `on` 這個屬性則是定義了執行這個腳本的「執行條件」，我們並不需要在每次程式有所變更的時候都運行腳本，所以需要進行一個明確的條件定義，在我的範例中條件就是 `push` 程式碼到 GitHub 時，如果是推送 master 這個分支的情況，才會啟動這個 Workflow 運作腳本。

---

## `jobs` 確切執行的動作

所有不同的工作流都會寫在 `jobs` 當中，其實是可以將編譯、測試、部署等等的工作各自寫成不同的工作流。

不過在我的範例中因為專案相當單純，網站樣式等等目前也是使用已完成開發的主題，所以網站專案的本體其實主要都是 `.md` 等內容，我認為也沒有必要在發表新文章、新消息等文件增減的狀況下安排測試，因此工作流就簡化成一組 `build` 囉。

而關於 `jobs` 的解析，就留到下一篇吧。